<!-- User hover on other peoples messages -->
<div
  *ngIf="msg.sender !== currentUserUid"
  class="hidden group-hover:flex gap-1 absolute -top-4 right-[45px] px-[15px] py-[3px] items-center bg-white border border-[#ADB0D9] rounded-l-[25px] rounded-tr-[25px] transition-opacity duration-200 z-10"
>
  <button
    (click)="quickReaction.emit('✔️')"
    class="p-[10px] rounded-[20px] hover:bg-gray-100"
    title="✔️"
  >
    ✔️
  </button>
  <button
    (click)="quickReaction.emit('👍')"
    class="p-[10px] rounded-[20px] hover:bg-gray-100"
    title="👍"
  >
    👍
  </button>
  <div class="picker-container relative inline-block self-start">
    <button
      (click)="togglePicker.emit()"
      class="flex-none p-2 hover:bg-gray-100 rounded-full"
    >
      <img
        src="../../../assets/img/icons/add_reaction.png"
        alt="emoji picker"
        class="w-6 h-6"
      />
    </button>
  </div>
  <button
    *ngIf="showThreadButton"
    (click)="onOpenThread($event)"
    class="p-[10px] rounded-[20px] hover:bg-gray-100"
    title="Open thread"
  >
    <img src="../../../assets/img/icons/comment.png" alt="Thread" />
  </button>
</div>

<!-- User hover on own message -->
<div
  *ngIf="msg.sender === currentUserUid"
  class="hidden group-hover:flex gap-1 absolute -top-4 left-[45px] px-[15px] py-[3px] items-center bg-white border border-[#ADB0D9] rounded-l-[25px] rounded-tr-[25px] transition-opacity duration-200 z-10"
>
  <button
    (click)="quickReaction.emit('✔️')"
    class="p-[10px] rounded-[20px] hover:bg-gray-100"
    title="✔️"
  >
    ✔️
  </button>
  <button
    (click)="quickReaction.emit('👍')"
    class="p-[10px] rounded-[20px] hover:bg-gray-100"
    title="👍"
  >
    👍
  </button>
  <div class="picker-container relative inline-block self-start">
    <button
      (click)="togglePicker.emit()"
      class="flex-none p-2 hover:bg-gray-100 rounded-full"
    >
      <img
        src="../../../assets/img/icons/add_reaction.png"
        alt="emoji picker"
        class="w-6 h-6"
      />
    </button>
  </div>
  <button
    *ngIf="showThreadButton"
    (click)="onOpenThread($event)"
    class="p-[10px] rounded-[20px] hover:bg-gray-100"
    title="Open thread"
  >
    <img src="../../../assets/img/icons/comment.png" alt="Thread" />
  </button>
  <div class="relative">
    <button
      class="options-button p-[10px] rounded-[20px] hover:bg-gray-100"
      title="Options"
      (click)="onToggleOptions($event)"
    >
      <img src="../../../assets/img/icons/more_vert.png" alt="Options" />
    </button>
    <div *ngIf="optionsOpen" class="options-popup relative">
      <button
        class="absolute px-3 py-1 bg-[#797EF3] text-white rounded-full shadow hover:bg-[#5F5CD6]"
        (click)="onOpenEdit($event)"
      >
        Edit User
      </button>
    </div>
  </div>
</div>
