<div class="px-[20px] py-[30px] flex flex-col gap-6 h-full">
  <div class="flex items-center w-full justify-between rounded-3xl">
    <div class="flex items-center gap-4 flex-1">
      <img src="../../../assets/img/workspace-logo.png" alt="Image" />
      <h2 class="font-bold text-xl">Devspace</h2>
    </div>
    <img src="../../../assets/img/icons/edit_square.png" alt="" />
  </div>
  <div class="w-full flex flex-col gap-6">
    <div class="w-full flex flex-col gap-6">
      <div class="w-full flex justify-between items-center">
        <div class="w-full flex gap-4 pr-3 py-1">
          <img src="../../../assets/img/icons/arrow_drop_down.png" alt="" />
          <div class="w-full flex justify-start items-center gap-2">
            <img src="../../../assets/img/icons/workspaces.png" alt="Icon" />
            <h3 class="font-semibold text-[18px]">Channels</h3>
          </div>
        </div>
        <img src="../../../assets/img/icons/add.png" alt="Add" />
      </div>
      <div class="w-full flex flex-col gap-4">
        <div
          class="flex items-center gap-2 ml-[25px] w-max rounded-2xl py-1 px-5 bg-[#ECEEFE]"
        >
          <img src="../../../assets/img/icons/tag.png" alt="" />
          <p>Entwicklerteam</p>
        </div>
        <div
          class="flex items-center gap-2 ml-[25px] w-max rounded-2xl py-1 px-5 bg-[#ECEEFE]"
        >
          <img src="../../../assets/img/icons/tag.png" alt="" />
          <p>Coders</p>
        </div>
      </div>
      <div class="w-full flex gap-2 ml-[25px] rounded-2xl py-1 px-5">
        <img src="../../../assets/img/icons/add_circle.png" alt="" />
        <span>Channel hinzuf√ºgen</span>
      </div>
    </div>
    <div class="w-full flex flex-col flex-1 gap-[25px]">
      <div
        class="w-fit flex items-center gap-[15px] pr-3 py-1 cursor-pointer select-none hover:text-[#535AF1]"
        (click)="toggleDropdown()"
        (mouseenter)="accountHover = true; arrowHover = true"
        (mouseleave)="accountHover = false; arrowHover = false"
      >
        <img
          [src]="arrowSrc"
          alt="Toggle"
          class="cursor-pointer transform transition-transform duration-200"
          [ngClass]="{
            '-rotate-90': !dropdownOpen,
            'scale-105': arrowHover
          }"
        />

        <div class="flex items-center gap-2">
          <img [src]="accountSrc" alt="Users icon" />
          <h3 class="font-semibold text-[18px]">Direktnachrichten</h3>
        </div>
      </div>

      <!-- collapsible list -->
      <div
        class="overflow-hidden transition-[max-height] duration-300 ease-in-out"
        [ngClass]="
          dropdownOpen ? 'max-h-[55%] sm:max-h-[50%] md:max-h-[55%]' : 'max-h-0'
        "
      >
        <div class="flex flex-col gap-3 overflow-y-auto h-full">
          <div
            *ngFor="let user of users"
            (click)="onClick(user)"
            class="ml-[25px] mr-[5px] flex items-center gap-4 px-5 py-1 hover:bg-[#ECEEFE] rounded-[30px] cursor-pointer"
          >
            <div class="relative w-12 h-12">
              <img
                [src]="user.avatar || '../../../assets/img/profile.svg'"
                alt="User"
                class="w-full h-full rounded-full object-cover"
              />
              <div
                class="absolute bottom-0 right-[-2px] w-4 h-4 bg-[#92C83E] rounded-full border-2 border-white"
              ></div>
            </div>
            <p class="font-normal text-base">
              {{ user.name }}
              <span *ngIf="user.uid === currentUserUid">(You)</span>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
